{"version":3,"sources":["asets/images/userDefaultPhoto.png","redux/usersReducer.js","API/API.js","asets/images/ball-triangle.svg","asets/images/logoSPSN.png","components/Navbar/Navbar.module.css","redux/authReducer.js","redux/appReducer.js","redux/reduxStore.js","components/Navbar/Friendsbar/Friendsbar.jsx","components/Navbar/Navbar.jsx","components/news/News.jsx","components/Musik/Musik.jsx","components/Settings/Settings.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/selectors/usersSelector.js","components/Users/UsersContainer.jsx","components/common/preloader/preloader.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Login/LoginContainer.jsx","components/common/mainPreloader/mainPreloader.jsx","App.js","serviceWorker.js","index.js","components/Login/Login.module.css","utils/validators/customTextArea.js","utils/validators/validators.js","components/Users/users.module.css","components/Header/Header.module.css","components/Navbar/Friendsbar/Friendsbar.module.css","components/common/Paginator/paginator.module.css","utils/validators/customTextArea.module.css","redux/profileReducer.js","redux/dialogsReducer.js"],"names":["module","exports","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","updateObjectIbArray","items","itemId","objPropName","newObjProps","map","user","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","followingQueie","follow","userId","type","unfollow","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","followingInProgress","UserID","getUsersThunckCreator","dispatch","a","UsersAPI","getUsers","response","totalCount","followUnfollowFlow","apiMethod","followAction","resultCode","unfollowUserThunckCreator","unfollowUser","bind","followUserThunckCreator","followUser","usersReducer","state","action","followed","filter","id","instance","axios","withCredentials","baseURL","headers","AuthAPI","getAuthMe","get","then","data","loginMe","email","password","rememberMe","captcha","post","exitMe","delete","getCaptchaURL","getProfile","console","warn","ProfileAPI","getStatus","updateStatus","status","put","SET_USER_DATA","CLEAR_USER_DATA","SET_CAPTCHA_URL","login","isAuthorised","captchaURL","setAuthUserData","authMeThunckCreator","getCaptchaThunckCreator","url","authReducer","SET_APP_INITIALISED","isInitialized","appReducer","reducersBunch","combineReducers","dialogsData","dialogsReducer","profileData","profileReducer","usersData","authData","appData","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Friendsbar","className","s","friends","item","src","alt","Navbar","nav","to","activeClassName","activeLink","News","Musik","Settings","Paginator","props","pagesCount","Math","ceil","pages","i","push","styles","selector","p","selectedPage","restPages","onClick","onPageChanged","Users","UsersBox","u","userBlock","photos","small","userDefaultPhoto","userPhoto","disabled","some","btnFollow","name","pageSizeSelector","totalUsersCountSelector","currentPageSelector","isFetchingSelector","usersSuperSelector","createSelector","UsersAPIContainer","checkedPage","this","toggleIsFollProgr","React","Component","connect","Preloader","ballTriangle","Header","header","logoImg","logoSPSN","preloader","loginBlock","btnExit","disconnectMe","HeaderContainer","maxLength","maxLengthCreator","maxCaptchaLength","LoginReduxForm","reduxForm","handleSubmit","error","onSubmit","createLoginField","Input","requiredField","inputLogin","remMe","Field","component","btnLogin","formError","Login","loginCommon","formData","LoginContainer","isAuth","errorMessage","messages","length","stopSubmit","_error","MainPreloader","DialogsContainer","lazy","ProfileContainer","App","initializeApp","isInit","fallback","path","render","UsersContainer","withRouter","promise","Promise","all","Boolean","location","hostname","match","ReactDOM","basename","process","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message","FormControl","input","meta","touched","hasError","customTextArea","children","TextArea","restProps","child","placeholder","validate","value","ADD_POST","SET_USER_PROFILE","SET_STATUS","posts","likeCount","profile","addPost","text","postMessage","setStatus","showUserProfileThunckCreator","getStatusThunckCreator","updateStatusThunckCreator","textAreaValue","ADD_DIALOG_MESSAGE","dialogs","addDialogMessage"],"mappings":"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","file":"static/js/main.4e2b64e2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/userDefaultPhoto.75a87902.png\";","import {UsersAPI} from \"../API/API\";\r\n\r\nconst FOLLOW = 'myReactSocialNet/usersReducer/FOLLOW';\r\nconst UNFOLLOW = 'myReactSocialNet/usersReducer/UNFOLLOW';\r\nconst SET_USERS = 'myReactSocialNet/usersReducer/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'myReactSocialNet/usersReducer/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'myReactSocialNet/usersReducer/SET-USERS-TOTAL-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'myReactSocialNet/usersReducer/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'myReactSocialNet/usersReducer/TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\nconst updateObjectIbArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(user => {\r\n        if (user[objPropName] === itemId) {\r\n            return {...user, ...newObjProps};\r\n        }\r\n        return user;\r\n    });\r\n};\r\n\r\n\r\nlet initialState = {\r\n    users: [ ],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingQueie: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectIbArray(state.users, action.userId, \"id\", {followed: true} )\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectIbArray(state.users, action.userId, \"id\", {followed: false} )\r\n            };\r\n        case SET_USERS:\r\n            return {...state, users: action.users};\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage};\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.totalUsersCount};\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching};\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {...state,\r\n                    followingQueie: action.followingInProgress\r\n                        ?  [...state.followingQueie, action.UserID]\r\n                        : state.followingQueie.filter( id => id !== action.UserID )\r\n                };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action creators. Создает экшены для вызова функций Profile\r\nexport const follow = (userId) => ({type: FOLLOW, userId: userId});\r\nexport const unfollow = (userId) => ({type: UNFOLLOW, userId: userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users: users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage: currentPage});\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount: totalCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching: isFetching});\r\nexport const toggleIsFollowingProgress = (followingInProgress, UserID) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, followingInProgress, UserID});\r\n\r\n// Санка для получения списка юзеров на определенной странице\r\nexport const getUsersThunckCreator = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    // Получаем с сервера информацию о юзерах\r\n    let response = await UsersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setTotalUsersCount(response.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, followAction) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId));\r\n    // Отписка от юзера\r\n    let response = await apiMethod(userId);\r\n    if (response.resultCode === 0) {\r\n        dispatch(followAction(userId));\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userId));\r\n};\r\n\r\n// Санка для отписки от юзера с возможностью блока кнопки\r\nexport const unfollowUserThunckCreator = (userId) =>  async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, UsersAPI.unfollowUser.bind(UsersAPI), unfollow);\r\n};\r\n\r\n// Санка для подписки на юзера с возможностью блока кнопки\r\nexport const followUserThunckCreator = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, UsersAPI.followUser.bind(UsersAPI), follow);\r\n};\r\n\r\nexport default usersReducer;","import * as axios from \"axios\";\r\n\r\n// Здесь мы делаем все запросы на сервак\r\n\r\n// Настройка инстанса axios для последующего использования в функциях\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL:'https://social-network.samuraijs.com/api/1.0',\r\n    headers: {\r\n        \"API-KEY\": \"6a526b7b-f77a-432a-b7a4-40cad8b83d7b\"\r\n    }\r\n});\r\n\r\nexport const AuthAPI = {\r\n    // Функция получает с сервака данные о залогиненом пользователе\r\n    getAuthMe () {\r\n        return instance.get(`/auth/me`).then(response => response.data);\r\n    },\r\n    // Функция осуществляет логин на серваке и возвращает результат операции\r\n    loginMe (email, password, rememberMe, captcha) {\r\n        return instance.post(`/auth/login`,\r\n            {email, password, rememberMe, captcha}).then(response => response.data);\r\n    },\r\n    // Функция отлогинивает юзера с сервака и возвращает результат операции\r\n    exitMe () {\r\n        return instance.delete(`/auth/login`).then(response => response.data);\r\n    },\r\n    // Функция получает URL капчи для проверки безопасности\r\n    getCaptchaURL () {\r\n        return instance.get(`/security/get-captcha-url`).then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const UsersAPI = {\r\n    // Функция осущ запрос на сервер и получает информацию о пользователях\r\n    // currentPage - номер страницы, pageSize - кол-во польз на странице\r\n    getUsers (currentPage = 1, pageSize = 10) {\r\n        return instance.get(`/users?page=${currentPage}&count=${pageSize}`)\r\n        .then(response => response.data);\r\n    },\r\n    // Функция отписывается от Юзера с индексом id\r\n    unfollowUser (id) {\r\n        return instance.delete(`/follow/${id}`).then(response => response.data);\r\n    },\r\n    // Функция подписывается на Юзера с индексом id\r\n    followUser (id) {\r\n        return instance.post(`/follow/${id}`).then(response => response.data);\r\n    },\r\n    // Функция получает с сервака данные о профиле юзера (устарела)\r\n    getProfile (id) {\r\n        console.warn('Obsolete method. Please use ProfileAPI object.')\r\n        return ProfileAPI.getProfile(id);\r\n    }\r\n};\r\n\r\nexport const ProfileAPI = {\r\n    // Функция получает с сервака данные о профиле юзера по ID\r\n    getProfile (id) {\r\n        return instance.get(`profile/${id}`).then(response => response.data);\r\n    },\r\n    // Функция получает с сервака статус юзера по ID\r\n    getStatus (id) {\r\n        return instance.get(`/profile/status/${id}`).then(response => response.data);\r\n    },\r\n    // Функция отправляют на сервер статус (status) залогиненного юзера\r\n    updateStatus (status) {\r\n        return instance.put(`/profile/status`,{status: status}).then(response => response.data);\r\n    }\r\n};\r\n\r\n\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/ball-triangle.49c8c1d4.svg\";","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3K3FK\",\"items\":\"Navbar_items__3vuzC\",\"item\":\"Navbar_item__1HwlQ\",\"activeLink\":\"Navbar_activeLink__2yH5U\"};","import {AuthAPI} from \"../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'myReactSocialNet/authReducer/SET-USER-DATA';\r\nconst CLEAR_USER_DATA = 'myReactSocialNet/authReducer/CLEAR-USER-DATA';\r\nconst SET_CAPTCHA_URL = 'myReactSocialNet/authReducer/SET-CAPTCHA-URL';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuthorised: false,\r\n    captchaURL: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return  {\r\n                ...state,\r\n                ...action.data,\r\n                isAuthorised: true\r\n            };\r\n        }\r\n        case CLEAR_USER_DATA: {\r\n            return  {\r\n                userId: null,\r\n                email: null,\r\n                login: null,\r\n                isAuthorised: false\r\n            };\r\n        }\r\n        case SET_CAPTCHA_URL: {\r\n            return {...state, captchaURL: action.url}\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\n// Action creators. Создает экшены для вызова функций authReducer\r\nexport const setAuthUserData = (userId, email, login) => ({type: SET_USER_DATA, data: {userId, email, login}});\r\nexport const clearAuthUserData = () => ({type: CLEAR_USER_DATA});\r\nexport const setCaptchaURL = (url) => ({type: SET_CAPTCHA_URL, url});\r\n\r\n// Санка получения данных залогиненного пользователя\r\nexport const authMeThunckCreator = () => async (dispatch) => {\r\n    let response = await AuthAPI.getAuthMe();\r\n    if (response.resultCode === 0) {\r\n        let {id, login, email} = response.data;\r\n        dispatch(setAuthUserData(id, email, login));\r\n    }\r\n};\r\n\r\n// Санка для логина на серваке\r\nexport const loginThunckCreator = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await AuthAPI.loginMe(email, password, rememberMe, captcha);\r\n    if (response.resultCode === 0) {\r\n        dispatch(authMeThunckCreator());\r\n    } else {\r\n        if (response.resultCode === 10) {\r\n            dispatch(getCaptchaThunckCreator());\r\n        }\r\n        let errorMessage = response.messages.length > 0 ? response.messages[0] : \"Uncaught message!\";\r\n        // ошибка общая для формы\r\n        dispatch(stopSubmit(\"loginForm\", {_error: errorMessage}));\r\n    }\r\n};\r\n\r\n// Санка для отлогинивания/отключения с сервака\r\nexport const exitThunckCreator = () => async (dispatch) => {\r\n    let response = await AuthAPI.exitMe();\r\n    if (response.resultCode === 0) {\r\n        dispatch(clearAuthUserData());\r\n    }\r\n};\r\n\r\n// Санка для получения капчи\r\nexport const getCaptchaThunckCreator = () => async (dispatch) => {\r\n    let response = await AuthAPI.getCaptchaURL();\r\n    dispatch(setCaptchaURL(response.url));\r\n};\r\n\r\nexport default authReducer;","import {authMeThunckCreator} from \"./authReducer\";\r\n\r\nconst SET_APP_INITIALISED = 'myReactSocialNet/appReducer/SET-APP-INITIALISED';\r\n\r\nlet initialState = {\r\n    isInitialized : false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_APP_INITIALISED: {\r\n            return  {\r\n                ...state,\r\n                isInitialized: true\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\n// Акшин для инициализации приложения на старте\r\nexport const setAppInitialised = () => ({type: SET_APP_INITIALISED});\r\n\r\n// Санка инициализации приложения\r\nexport const setAppThunckCreator = () => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(authMeThunckCreator());\r\n        //let promise1 = dispatch(somethingElse());\r\n        //let promise2 = dispatch(anythingElse());\r\n        Promise.all([promise  /* ,promise1...*/]).then(() => {\r\n            dispatch(setAppInitialised());\r\n        });\r\n    };\r\n};\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\n//Закидываем в стор редьюсеры\r\nlet reducersBunch = combineReducers( {\r\n    dialogsData: dialogsReducer,\r\n    profileData: profileReducer,\r\n    usersData: usersReducer,\r\n    authData: authReducer,\r\n    appData: appReducer,\r\n    form: formReducer\r\n} );\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducersBunch, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//let store = createStore(reducersBunch, applyMiddleware(thunkMiddleware));\r\n\r\n//window.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport s from './Friendsbar.module.css'\r\n\r\nconst Friendsbar = () => {\r\n    return (\r\n        <div className={s.friends}>\r\n            <div>Friends</div>\r\n            <div className={s.item}>\r\n                <img\r\n                    src='https://cdn4.iconfinder.com/data/icons/avatars-xmas-giveaway/128/batman_hero_avatar_comics-512.png' alt=\"ava1\"></img>\r\n                <div>Pedro</div>\r\n            </div>\r\n            <div className={s.item}>\r\n                <img\r\n                    src='https://cdn3.iconfinder.com/data/icons/users-avatars-2/128/superman-512.png' alt=\"ava2\"></img>\r\n                <div>Vasya</div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Friendsbar;","import React from 'react';\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Friendsbar from \"./Friendsbar/Friendsbar\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.items}>\r\n                <div className={s.item}>\r\n                    <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/musik' activeClassName={s.activeLink}>Musik</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n                </div>\r\n            </div>\r\n            <Friendsbar/>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\n//import s from './Musik.module.css'\r\n\r\nconst Musik = () => {\r\n    return (\r\n        <div>\r\n            Musik\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Musik;","import React from \"react\";\r\n//import s from './Settings.module.css'\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport styles from './paginator.module.css';\r\n\r\nconst Paginator = (props) => {\r\n\r\n    // Расчет количества страниц в селекторе\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    if (props.currentPage <= 5) {\r\n        for (let i = 1; i <= 9; i++) {\r\n            pages.push(i);\r\n        }\r\n    }\r\n    else if (props.currentPage >= pagesCount - 5) {\r\n        for (let i = pagesCount - 9; i <= pagesCount; i++) {\r\n            pages.push(i);\r\n        }\r\n    }\r\n    else {\r\n        for (let i = 1 + (props.currentPage - 5); i <= 9 + (props.currentPage - 5); i++) {\r\n            pages.push(i);\r\n        }\r\n    }\r\n\r\n    return <div className={styles.selector}>\r\n            {pages.map(p => {\r\n                return <span className={props.currentPage === p ? styles.selectedPage : styles.restPages}\r\n                             onClick={() => {\r\n                                 props.onPageChanged(p)\r\n                             }}>{p}</span>;\r\n            })}\r\n        </div>\r\n};\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport styles from './users.module.css';\r\nimport userDefaultPhoto from '../../asets/images/userDefaultPhoto.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nconst Users = ({totalUsersCount, pageSize, onPageChanged, currentPage, ...props}) => {\r\n\r\n    return <div>\r\n        <Paginator totalUsersCount={totalUsersCount} pageSize={pageSize}\r\n                   currentPage={currentPage} onPageChanged={onPageChanged}/>\r\n        <div className={styles.UsersBox}>\r\n            {props.users.map(u => <div className={styles.userBlock}>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + u.id}>\r\n                        <img src={u.photos.small != null ? u.photos.small : userDefaultPhoto}\r\n                             className={styles.userPhoto} alt=\"avas\"/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {u.followed\r\n                        ? <button disabled={props.followingQueie.some((id) => id === u.id)} onClick={() => {\r\n                            // Отписка от юзера\r\n                            props.unfollowUser(u.id);\r\n\r\n                        }} className={styles.btnFollow}>Unfollow</button>\r\n                        : <button disabled={props.followingQueie.some((id) => id === u.id)} onClick={() => {\r\n                            // Подписка от юзера\r\n                            props.followUser(u.id);\r\n\r\n                        }} className={styles.btnFollow}>Follow</button>}\r\n                </div>\r\n            </span>\r\n                <span>\r\n                    <div>{u.name}</div>\r\n                    <div>{u.status}</div>\r\n                </span>\r\n            </div>)}\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nexport const pageSizeSelector = (state) => {\r\n    return state.usersData.pageSize;\r\n}\r\n\r\nexport const totalUsersCountSelector = (state) => {\r\n    return state.usersData.totalUsersCount;\r\n}\r\n\r\nexport const currentPageSelector = (state) => {\r\n    return state.usersData.currentPage;\r\n}\r\n\r\nexport const isFetchingSelector = (state) => {\r\n    return state.usersData.isFetching;\r\n}\r\n\r\nexport const followingQueie = (state) => {\r\n    return state.usersData.followingQueie;\r\n}\r\n\r\n\r\n// Пример работы с библиотекой reselect\r\n// Вспомогательный, примитивный селектор\r\nconst getUsersInnerSel = (state) => {\r\n    return state.usersData.users;\r\n}\r\n\r\n/*export const usersSelector = (state) => {\r\n                                        //имитация фейковой логики, нагружающей приложение\r\n    return getUsersInnerSel(state).filter(u => true);\r\n}*/\r\n\r\n// создаем селектор с использованием createSelector\r\nexport const usersSuperSelector = createSelector(getUsersInnerSel, (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n    setCurrentPage, toggleIsFollowingProgress,\r\n    getUsersThunckCreator, unfollowUserThunckCreator,\r\n    followUserThunckCreator\r\n} from \"../../redux/usersReducer\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    currentPageSelector, followingQueie, isFetchingSelector,\r\n    pageSizeSelector, totalUsersCountSelector, usersSuperSelector\r\n} from \"../../redux/selectors/usersSelector\";\r\n\r\nclass UsersAPIContainer extends React.Component {\r\n\r\n    // Первая отрисовка страницы с юзерами\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    // Функция переключения страницы с юзерами\r\n    onPageChanged = (checkedPage) => {\r\n        this.props.setCurrentPage(checkedPage);\r\n        this.props.getUsers(checkedPage, this.props.pageSize);\r\n    };\r\n\r\n    render() {\r\n        return <>\r\n            <Users currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   followingQueie={this.props.followingQueie}\r\n                   toggleIsFollProgr={this.props.toggleIsFollowingProgress}\r\n                   unfollowUser={this.props.unfollowUserThunckCreator}\r\n                   followUser={this.props.followUserThunckCreator}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n// Пример исплользования селекторов (уроки 81-83)\r\nconst mapToStateProps = (state) => {\r\n    return {\r\n        // users: usersSelector(state),\r\n        // использование сложного селектора\r\n        users: usersSuperSelector(state),\r\n        pageSize: pageSizeSelector(state),\r\n        totalUsersCount: totalUsersCountSelector(state),\r\n        currentPage: currentPageSelector(state),\r\n        isFetching: isFetchingSelector(state),\r\n        followingQueie: followingQueie(state),\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapToStateProps, {setCurrentPage, toggleIsFollowingProgress,\r\n        getUsers: getUsersThunckCreator, unfollowUserThunckCreator, followUserThunckCreator}),\r\n   // withAuthRedirect\r\n)(UsersAPIContainer);\r\n\r\n","import React from \"react\";\r\nimport ballTriangle from \"../../../asets/images/ball-triangle.svg\";\r\n\r\nlet Preloader = () => {\r\n    return <img src={ballTriangle} alt=\"preloader\"/>\r\n};\r\n\r\nexport default Preloader;","import React from 'react';\r\nimport './Header.scss';\r\nimport s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Preloader from \"../common/preloader/preloader\";\r\nimport logoSPSN from '../../asets/images/logoSPSN.png'\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img className={s.logoImg} src={logoSPSN} alt=\"logo\"></img>\r\n            <div className={s.preloader}>\r\n                {(props.isFetching) ? <Preloader/> : null}\r\n            </div>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuthorised ?\r\n                    <div>\r\n                        <div>\r\n                            {props.login}\r\n                        </div>\r\n                        <button className={s.btnExit} onClick={() => {\r\n                            props.disconnectMe()\r\n                        }}>\r\n                            Exit\r\n                        </button>\r\n                    </div>\r\n                    : <div className='navLogin'>\r\n                        <NavLink to={'/login'}>Login</NavLink>\r\n                    </div>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {exitThunckCreator} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuthorised: state.authData.isAuthorised,\r\n        login: state.authData.login,\r\n        isFetching: state.usersData.isFetching,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {disconnectMe: exitThunckCreator})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createLoginField, Input} from \"../../utils/validators/customTextArea\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\nimport s from './Login.module.css'\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        let {login, password, rememberMe, captcha} = formData;\r\n        props.loginMe(login, password, rememberMe, captcha);\r\n    };\r\n    \r\n    return <div className={s.loginCommon}>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaURL={props.captchaURL}/>\r\n    </div>;\r\n};\r\n\r\nlet maxLength = maxLengthCreator(30);\r\nlet maxCaptchaLength = maxLengthCreator(10);\r\n\r\nconst LoginForm = ({handleSubmit, captchaURL, error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        {createLoginField(\"Login\", \"login\", Input, [requiredField, maxLength], s.inputLogin)}\r\n        {createLoginField(\"Password\", \"password\", Input, [requiredField, maxLength], s.inputLogin, {type: \"password\"})}\r\n        <div className={s.remMe}>\r\n            <Field component={\"input\"} name={\"rememberMe\"} type={\"checkbox\"}/>Remember me\r\n        </div>\r\n        {captchaURL && <div>\r\n            {createLoginField(\"Captcha\", \"captcha\", Input, [requiredField, maxCaptchaLength], s.inputLogin)}\r\n            <div>\r\n                <img src={captchaURL} alt={\"captcha\"}/>\r\n            </div>\r\n        </div>}\r\n        <div>\r\n            <button className={s.btnLogin}>Login</button>\r\n        </div>\r\n        {error && <div className={s.formError}>{error}</div>}\r\n    </form>\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    // a unique name for the form\r\n    form: 'loginForm'\r\n})(LoginForm);\r\n\r\nexport default Login;","import React from \"react\";\r\nimport Login from \"./Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginThunckCreator} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nclass LoginContainer extends React.Component {\r\n    render() {\r\n        if (this.props.isAuth) return <Redirect to={\"/profile\"}/>;\r\n        return <Login {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authData.isAuthorised,\r\n        captchaURL: state.authData.captchaURL\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps,\r\n    {loginMe: loginThunckCreator})(LoginContainer);","import React from \"react\";\r\nimport './MainPreloader.scss';\r\n\r\nconst MainPreloader = () => {\r\n    return <div className='cssload-loader'>\r\n        <div className='cssload-inner cssload-one'></div>\r\n        <div className='cssload-inner cssload-two'></div>\r\n        <div className='cssload-inner cssload-three'></div>\r\n    </div>\r\n};\r\n\r\nexport default MainPreloader;","import React, { Suspense } from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport News from \"./components/news/News\";\nimport Musik from \"./components/Musik/Musik\";\nimport Settings from \"./components/Settings/Settings\";\nimport {Route, withRouter} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginContainer from \"./components/Login/LoginContainer\";\nimport {connect} from \"react-redux\";\nimport {setAppThunckCreator} from \"./redux/appReducer\";\nimport {compose} from \"redux\";\nimport MainPreloader from \"./components/common/mainPreloader/mainPreloader\";\nimport Preloader from './components/common/preloader/preloader';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n\n    componentDidMount() {\n        // логинимся в сеть\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.isInit) {\n            return (\n                <div className='preloaderWrapper'>\n                    <div className='preloaderTriangle'>\n                        <MainPreloader />\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Suspense fallback={<div><Preloader /></div>}>\n                            <Route path='/dialogs' render={() => <DialogsContainer />}/>\n                            <Route path='/profile/:userId?' render={() => <ProfileContainer />}/>\n                    </Suspense>                                                                 \n                    <Route path='/news' render={() => <News/>}/>\n                    <Route path='/musik' render={() => <Musik/>}/>\n                    <Route path='/settings' render={() => <Settings/>}/>\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/login' render={() => <LoginContainer/>}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n        isInit: state.appData.isInitialized\n});\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp: setAppThunckCreator})\n)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import './index.css';\nimport store from \"./redux/reduxStore\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\nimport {HashRouter} from \"react-router-dom\";\n\n\nReactDOM.render(\n    <HashRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </HashRouter>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginCommon\":\"Login_loginCommon__2vpgU\",\"formError\":\"Login_formError__3eW9S\",\"inputLogin\":\"Login_inputLogin__6By6x\",\"inputPass\":\"Login_inputPass__dKgF1\",\"remMe\":\"Login_remMe__1esjx\",\"btnLogin\":\"Login_btnLogin__2O83E\"};","import React from \"react\";\r\nimport styles from \"./customTextArea.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const FormControl = ({input, meta: {touched, error}, ...props}) => {\r\n    const hasError = touched && error;\r\n    return <div className={styles.customTextArea + \" \" + (hasError ? styles.error : '')}>\r\n        {props.children}\r\n        <div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const TextArea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}> <textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}> <input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createLoginField = (placeholder, name, component, validate, className, props = {}) => {\r\n    return <div>\r\n    <Field placeholder={placeholder} name={name} component={component}\r\n           validate={validate} className={className} {...props}/>\r\n    </div>\r\n}","export const requiredField  = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator  = maxLength => value => {\r\n    if (value.length <= maxLength) return undefined;\r\n\r\n    return `Max length is ${maxLength} symbols`;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2U4cp\",\"UsersBox\":\"users_UsersBox__1V81Y\",\"userBlock\":\"users_userBlock__3yTQA\",\"selector\":\"users_selector__1i3hI\",\"restPages\":\"users_restPages__TOnd2\",\"selectedPage\":\"users_selectedPage__3uXQD\",\"btnFollow\":\"users_btnFollow__9BZP3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2SM_z\",\"logoImg\":\"Header_logoImg__1kZFR\",\"preloader\":\"Header_preloader__BmA3b\",\"loginBlock\":\"Header_loginBlock__2wptP\",\"btnExit\":\"Header_btnExit__3PrEG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friendsbar_friends__gdc4o\",\"item\":\"Friendsbar_item__Ty9MI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selector\":\"paginator_selector__3QTl5\",\"restPages\":\"paginator_restPages__86jCY\",\"selectedPage\":\"paginator_selectedPage__3k0dF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"customTextArea\":\"customTextArea_customTextArea__2Gv09\",\"error\":\"customTextArea_error__1US7i\"};","import {ProfileAPI, UsersAPI} from \"../API/API\";\r\nimport {toggleIsFetching} from \"./usersReducer\";\r\n\r\nconst ADD_POST = 'myReactSocialNet/profileReducer/ADD-POST';\r\nconst SET_USER_PROFILE = 'myReactSocialNet/profileReducer/SET-USER-PROFILE';\r\nconst SET_STATUS = 'myReactSocialNet/profileReducer/SET-STATUS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hola! Como esta?', likeCount: 23},\r\n        {id: 2, message: 'Que pasa aqui?', likeCount: 12},\r\n        {id: 3, message: 'Vamos a la plalla', likeCount: 50},\r\n        {id: 4, message: 'Quiero salir a calle!', likeCount: 2}\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            return  {\r\n                ...state,\r\n                posts: [...state.posts, {id: 5, message: action.postMessage, likeCount: 0}],\r\n                textAreaValue:''\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\n// Action creators. Создает экшены для вызова функций Profile\r\nexport const addPost = (text) => ({type: ADD_POST,postMessage: text});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\n\r\n// Санка для получения инфы о выбранном юзере\r\nexport const showUserProfileThunckCreator = (UserID) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    const response = await UsersAPI.getProfile(UserID);\r\n    dispatch(setUserProfile(response));\r\n    dispatch(toggleIsFetching(false));\r\n\r\n};\r\n\r\n// Санка для получения статуса пользователя с сервака\r\nexport const getStatusThunckCreator = (UserID) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    const response = await ProfileAPI.getStatus(UserID)\r\n    dispatch(setStatus(response));\r\n    dispatch(toggleIsFetching(false));\r\n};\r\n\r\n\r\n// Санка для обновления статуса пользователя на серваке\r\nexport const updateStatusThunckCreator = (status) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    const response = await ProfileAPI.updateStatus(status)\r\n    if (response.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n        dispatch(toggleIsFetching(false));\r\n    }\r\n};\r\n\r\nexport default profileReducer;","const ADD_DIALOG_MESSAGE = 'myReactSocialNet/dialogsReducer/ADD-DIALOG-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Juan'},\r\n        {id: 2, name: 'Pedro'},\r\n        {id: 3, name: 'Ramona'},\r\n        {id: 4, name: 'Fernandes'},\r\n        {id: 5, name: 'Alexandro'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hola!'},\r\n        {id: 2, message: 'Como te llama?'},\r\n        {id: 3, message: 'Cerdo)'},\r\n        {id: 4, message: 'Quiero salir a calle!'}\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_DIALOG_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 5, message: action.postMessage}],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action creators. Создает экшены для вызова функций Dialogs\r\nexport const addDialogMessage = (text) => ({type : ADD_DIALOG_MESSAGE, postMessage: text});\r\n\r\nexport default dialogsReducer;"],"sourceRoot":""}