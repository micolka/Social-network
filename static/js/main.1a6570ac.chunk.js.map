{"version":3,"sources":["API/UsersAPI.ts","redux/usersReducer.ts","API/API.ts","asets/images/userDefaultPhoto.png","asets/images/ball-triangle.svg","asets/images/logoSPSN.png","components/Navbar/Navbar.module.css","components/Users/users.module.css","utils/validators/customTextArea.tsx","API/AuthAPI.ts","redux/authReducer.ts","redux/appReducer.ts","redux/reduxStore.ts","components/Navbar/Friendsbar/Friendsbar.tsx","components/Navbar/Navbar.tsx","components/news/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/common/Paginator/Paginator.tsx","components/Users/Users.tsx","redux/selectors/usersSelector.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","components/Login/LoginContainer.tsx","components/common/mainPreloader/mainPreloader.tsx","App.tsx","serviceWorker.js","index.tsx","components/Login/Login.module.css","utils/validators/validators.ts","components/Header/Header.module.css","components/common/preloader/preloader.tsx","components/Navbar/Friendsbar/Friendsbar.module.css","components/common/Paginator/paginator.module.css","utils/validators/customTextArea.module.css","API/ProfileAPI.ts","redux/profileReducer.ts","redux/dialogsReducer.ts"],"names":["UsersAPI","getUsers","currentPage","pageSize","friend","undefined","term","instance","get","then","response","data","unfollowUser","id","delete","followUser","post","updateObjectIbArray","items","itemId","newObjProps","map","user","initialState","users","totalUsersCount","filterProps","allUsers","isFetching","followingQueie","usersActions","follow","userId","type","unfollow","setUsers","setCurrentPage","setUsersFilter","setTotalUsersCount","totalCount","toggleIsFetching","toggleIsFollowingProgress","followingInProgress","getUsersThunckCreator","dispatch","a","_followUnfollowFlow","apiMethod","followAction","resultCode","unfollowUserThunckCreator","bind","followUserThunckCreator","usersReducer","state","action","followed","filter","ResultCodesEnum","axios","create","withCredentials","baseURL","headers","module","exports","FormControl","meta","touched","error","children","hasError","className","styles","customTextArea","TextArea","props","input","restProps","Input","createCustomField","placeholder","name","component","validators","validate","CaptchaIsRequiredEnum","AuthAPI","email","password","rememberMe","captcha","login","isAuthorised","captchaURL","authActions","url","authMeThunckCreator","Succes","getCaptchaThunckCreator","authReducer","isInitialized","appActions","appReducer","rootReducer","combineReducers","dialogsData","dialogsReducer","profileData","profileReducer","usersData","authData","appData","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Friendsbar","s","friends","item","src","alt","Navbar","nav","to","activeClassName","activeLink","News","Musik","Settings","Paginator","pagesCount","Math","ceil","pages","itemsCount","middle","round","i","push","selector","p","selectedPage","restPages","onClick","onPageChanged","SearchReduxForm","reduxForm","onSubmit","handleSubmit","searchBlock","searchInput","searchButton","Users","isAuthorized","selectedItem","restItems","onFilterChanged","initialValues","formData","UsersBox","u","photos","small","userDefaultPhoto","userPhoto","disabled","some","btnFollow","pageSizeSelector","totalUsersCountSelector","isFetchingSelector","usersSuperSelector","createSelector","UsersAPIContainer","checkedPage","returnFriend","this","prevProps","React","Component","connect","Header","header","logoImg","logoSPSN","preloader","loginBlock","btnExit","disconnectMe","HeaderContainer","maxLength","maxLengthCreator","maxCaptchaLength","LoginReduxForm","requiredField","inputLogin","remMe","Field","btnLogin","formError","Login","loginCommon","loginMe","LoginContainer","isAuth","CaptchaIsRequired","errorMessage","messages","length","stopSubmit","_error","MainPreloader","DialogsContainer","lazy","ProfileContainer","App","cathAllUnhandledErrors","console","log","initializeApp","addEventListener","removeEventListener","isInit","fallback","path","render","exact","UsersContainer","withRouter","promise","Promise","all","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message","value","Preloader","ballTriangle","ProfileAPI","status","put","photoFile","FormData","append","userProfile","posts","likeCount","profile","textAreaValue","profileActions","addPost","text","postMessage","setUserProfile","setStatus","setUserPhoto","clearUserProfile","showUserProfileThunckCreator","UserID","updateProfileThunckCreator","reject","getStatusThunckCreator","updateStatusThunckCreator","saveProfilePhotoThunckCreator","file","dialogs","dialogsActions","addDialogMessage"],"mappings":"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","file":"static/js/main.1a6570ac.chunk.js","sourcesContent":["import { instance, GetItemsType, APIResponseType } from \"./API\";\r\n\r\nexport const UsersAPI = {\r\n    // Функция осущ запрос на сервер и получает информацию о пользователях\r\n    // currentPage - номер страницы, pageSize - кол-во польз на странице\r\n    getUsers(currentPage = 1, pageSize = 10, friend: boolean | undefined = undefined,term: string = \"\") {\r\n        //return instance.get<GetItemsType>(`/users?page=${currentPage}&count=${pageSize}&friend=true`)\r\n        return instance.get<GetItemsType>(`/users?page=${currentPage}&count=${pageSize}&term=${term}&friend=${friend}`)\r\n            .then(response => response.data);\r\n    },\r\n    // Функция отписывается от Юзера с индексом id\r\n    unfollowUser(id: number) {\r\n        return instance.delete<APIResponseType>(`/follow/${id}`).then(response => response.data);\r\n    },\r\n    // Функция подписывается на Юзера с индексом id\r\n    followUser(id: number) {\r\n        return instance.post<APIResponseType>(`/follow/${id}`).then(response => response.data);\r\n    }\r\n};\r\n","import { UserType, InferActionsTypes, BaseThunkType } from './../types/types';\r\nimport { UsersAPI } from \"../API/UsersAPI\";\r\nimport { Dispatch } from 'redux';\r\n\r\nconst updateObjectIbArray = (items: Array<UserType>, itemId: number, newObjProps: FollowedType): Array<UserType> => {\r\n    return items.map(user => {\r\n        if (user.id === itemId) {\r\n            return {...user, ...newObjProps};\r\n        }\r\n        return user;\r\n    });\r\n};\r\n\r\ntype FollowedType = {\r\n    followed: boolean\r\n}\r\n\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    filterProps: {\r\n        currentPage: 1,\r\n        friend: false,\r\n        allUsers: true,\r\n        term: \"\"\r\n    },\r\n    isFetching: false,\r\n    followingQueie: [] as Array<number>, // array of users ID's that are curently in progress of un\\following\r\n};\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst usersReducer = (state = initialState, action: UsersActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'RSN/users/FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectIbArray(state.users, action.userId, {followed: true} )\r\n            };\r\n        case 'RSN/users/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectIbArray(state.users, action.userId, {followed: false} )\r\n            };\r\n        case 'RSN/users/SET-USERS':\r\n            return {...state, users: action.users};\r\n        case 'RSN/users/SET-CURRENT-PAGE':\r\n            return {...state, \r\n                    filterProps: {...state.filterProps,  currentPage: action.currentPage}\r\n            };\r\n        case 'RSN/users/SET-USERS-FILTER':\r\n            return {\r\n                ...state,\r\n                filterProps: {\r\n                    ...state.filterProps,\r\n                    friend: action.friend,\r\n                    allUsers: action.allUsers,\r\n                    term: action.term\r\n                }\r\n            };\r\n        case 'RSN/users/SET-USERS-TOTAL-COUNT':\r\n            return {...state, totalUsersCount: action.totalUsersCount};\r\n        case 'RSN/users/TOGGLE-IS-FETCHING':\r\n            return {...state, isFetching: action.isFetching};\r\n        case 'RSN/users/TOGGLE-IS-FOLLOWING-PROGRESS':\r\n            return {...state,\r\n                    followingQueie: action.followingInProgress\r\n                        ?  [...state.followingQueie, action.userId]\r\n                        : state.followingQueie.filter( id => id !== action.userId )\r\n                };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport type UsersActionsTypes = InferActionsTypes<typeof usersActions>;\r\n\r\n// Action creators. Создает экшены для вызова функций Profile\r\nexport const usersActions = {\r\n    follow : (userId: number) => ({type: 'RSN/users/FOLLOW', userId: userId} as const),\r\n    unfollow : (userId: number) => ({type: 'RSN/users/UNFOLLOW', userId: userId} as const),\r\n    setUsers : (users: Array<UserType>) => ({type: 'RSN/users/SET-USERS', users: users} as const),\r\n    setCurrentPage : (currentPage: number) => ({type: 'RSN/users/SET-CURRENT-PAGE', currentPage: currentPage} as const),\r\n    setUsersFilter : (friend: boolean, allUsers: boolean, term: string) => ({type: 'RSN/users/SET-USERS-FILTER', friend, allUsers, term} as const),\r\n    setTotalUsersCount : (totalCount: number) => ({type: 'RSN/users/SET-USERS-TOTAL-COUNT', totalUsersCount: totalCount} as const),\r\n    toggleIsFetching : (isFetching: boolean) => ({type: 'RSN/users/TOGGLE-IS-FETCHING', isFetching: isFetching} as const),\r\n    toggleIsFollowingProgress : (followingInProgress: boolean, userId: number) => ({\r\n        type: 'RSN/users/TOGGLE-IS-FOLLOWING-PROGRESS', followingInProgress, userId} as const)\r\n}\r\n\r\ntype ThunkType = BaseThunkType<UsersActionsTypes>;\r\ntype DispatchType = Dispatch<UsersActionsTypes>;\r\n\r\n// Санка для получения списка юзеров на определенной странице\r\nexport const getUsersThunckCreator = (currentPage: number, pageSize: number, friend?: boolean,  term?: string): ThunkType =>\r\n    async (dispatch) => {\r\n        dispatch(usersActions.toggleIsFetching(true));\r\n        // Получаем с сервера информацию о юзерах\r\n        let response = await UsersAPI.getUsers(currentPage, pageSize, friend, term);      \r\n        dispatch(usersActions.setUsers(response.items));\r\n        dispatch(usersActions.setTotalUsersCount(response.totalCount));\r\n        dispatch(usersActions.toggleIsFetching(false));\r\n    };\r\n\r\nconst _followUnfollowFlow = async (dispatch: DispatchType, userId: number, apiMethod: any,\r\n    followAction: (userId: number) => (UsersActionsTypes)) => {\r\n    dispatch(usersActions.toggleIsFetching(true));\r\n    dispatch(usersActions.toggleIsFollowingProgress(true, userId));\r\n    // Отписка от юзера\r\n    let response = await apiMethod(userId);\r\n    if (response.resultCode === 0) {\r\n        dispatch(followAction(userId));\r\n    }\r\n    dispatch(usersActions.toggleIsFollowingProgress(false, userId));\r\n    dispatch(usersActions.toggleIsFetching(false));\r\n};\r\n\r\n// Санка для отписки от юзера с возможностью блока кнопки\r\nexport const unfollowUserThunckCreator = (userId: number): ThunkType =>  async (dispatch) => {\r\n    _followUnfollowFlow(dispatch, userId, UsersAPI.unfollowUser.bind(UsersAPI), usersActions.unfollow);\r\n};\r\n\r\n// Санка для подписки на юзера с возможностью блока кнопки\r\nexport const followUserThunckCreator = (userId: number): ThunkType => async (dispatch) => {\r\n    _followUnfollowFlow(dispatch, userId, UsersAPI.followUser.bind(UsersAPI), usersActions.follow);\r\n};\r\n\r\nexport default usersReducer;","import axios from \"axios\";\r\nimport { UserType } from \"../types/types\";\r\n\r\n// Настройка инстанса axios для последующего использования в функциях\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL:'https://social-network.samuraijs.com/api/1.0',\r\n    headers: {\r\n        \"API-KEY\": \"6a526b7b-f77a-432a-b7a4-40cad8b83d7b\"\r\n    }\r\n});\r\n\r\nexport enum ResultCodesEnum {\r\n    Succes = 0,\r\n    Error = 1,\r\n}\r\n\r\nexport type GetItemsType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\n\r\nexport type APIResponseType<D = {}, RC = ResultCodesEnum> = {\r\n    data: D\r\n    messages: Array<string>\r\n    resultCode: RC\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/userDefaultPhoto.75a87902.png\";","module.exports = __webpack_public_path__ + \"static/media/ball-triangle.49c8c1d4.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABGCAYAAACJ4ts2AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAO/klEQVR42u1dCXRU1Rn+Rdx3rWs5VmvdUKlSV7qIS93B5RhFraIt0lalNgXMAuTNTBKVIx6hahGt+4KNQFU8ilrqwnFDzxGrReUcRWIySRARrIpiJP2+yZt4ubwtzJtkmPn/c+6ZZN6d9+7yf/df730iSkpKSkpKSkpKSkpKSkpKSiY5jrPH+PHjz50wYcIVNTU1l1VXVx+OrzfSkVEqaQIofgpAPANgfIfPDqt8iOsjAJ4+OlJKJUcAxUiU1R7AWKugzmPl5eVb6IgplQyB8cvA+GvCwGGAZLqOmlJJ0NixY7cB0y+zADAPZQjUqf4og/DdrSjtVp0hOnpKpSA9RluM/0BZWdnGHvbJOaaUwf8v6+gplYLtMc8Ax2eUKAF1pxt119TX1++qI6hU7BKk1WD6mUF1oW4NM6XNuHHjfqUjqFTsEmSFAZC7gupCrRpqqWO/1hFUKnaAvG0w/Tsh0qbWBEhVVdUAHUGloiZIhSkm0+P/C73qVVdX7256uwCsFg0aKhU9gckHmC5cMP4qlD+YniymmuC7dy31qi7s3qNGjdqMgEP9qSgN+M3D+Kx3bRdNXVHqGeLqDuarRnmKapKrNs1gasjo0aO3iiBFpnoEBCktXsS93ve49lFlZeUOIarbEJR0QLBxAdp9tM6eUt5o2rRpm4DREijfBES+m8KMaa70qPNcxCj6JwDUYSG2ytVRIvNMbcG9hulMKuULHP+MyNTfhjEiVK1NUW9SUD4Wrs2FerR3iOQ41QMcq13J9p5HRP4blCN0RpViJdoAXhm3KLNw7WnaEhYjfl1VVXVA2H0rKir2Qv0K1J+Nz1dR5qDcFCXmQbsFdRdZz72vrq5udwOIezLh0arzms6oUpyG9R7mSk/mx+flpmENMOzsIWEezWe7AKLjLcb/h5cx3tDQQCD926r7M51ZpViIK7zFXFd41SMjQrV61VS1AK5dekqq4Vk/Dqh7lNWHMTqzSnEx4myDsZaCEfsGeKjOtZj2jDy26yGjXctDpGAfK/4yJd/j9slE2SZdLzt7lSWVssOGzBON5bKFX99YOkrJrQ5mmm8w4gshdQ+y1KzheQTIXcZzPg8KJLpp9qYEmRRXO5Y5sm1zSi5sScnUdEpebklKYzopq/F/R1hB/WaUF/H3Da2O+LqhP3akH+o05FrQrgfxvJvwOaY1KScsdmTzoL51TJNNUP809GkSfjMX5UPc58tIfUvKCny+znFpSsnQjgbZ2O85uP8ddjs/cWSPuOaoNSXl2XsvGiWbxc2IZgbuf0LqHhMlUt5SK3tjUMqaHNlvHWZIyb7oyN9w/b50rZwS8KxrLKY/IQC4w6x2jch1XDoc2RRtrMNkfhGFYSKWJxsd2dF+VtqR/jE+wwToZ2j/XzznKCGX4Vo6tmcl5b2WejnY61loR5tH/cVtjvwkDh52wZG5b7MjW8Ztg9xspp1TSgQw7WRLxRrgMdm/wYB85w7CmtaElGevYUB2MweL9ZqSMsSH6Q8xXbwMMuJ5O3rU2xfXlhjtaqfjIddxSSdkVteEJuUrfM7AqvxnghqTMLDFkb38VBBc24VM35yUn2MMrsBv3+jqc0KeCAII6j+HcXG6VRJSj89bWNDWhgyzGsyIdpy81vMAGuN5a/hM/F2F/p35cVKOIuMGqViQGPvjN0dgsbsEz37UuFcjfru1H0Dw2eKOZbZ+ujElhxQ0QGxvEcoCL0ZkNNtKI3nf9ipRzGIyllorxRfZQYMoHGmvJPju8Sj2kfvMjygd0OZ9CAx8dyWDjVadB3MW2VBPDBC/vbxWfpSTNMK4YBzmZe/ZViv7+AIEDB/HvIJxhxsA79p6QPsoy6Ro0+eYr1/mzKBJmWwsABf7AgRABAP/AvWXGzzwKUFZsAAhk4OpXvGImFeCEU9kWjr+vsc+nQTf/9a+0ZopshkGo90GAfT4fm5HLvUQtQ8HGN+74blNUfe3s938Tc4TnpDaLgADLLGoAVBpDIY9Pd8AcSVFi/u8d7ukOKSJsThNiOM5YMoDjDmtDwJIxgkAqYE2NRm/+Rxq+fGFChAyYn8w4spuMOKMAIPpcQsAL5neEQzMQuP6KqgjR4a0baClQvlF5pcEqYfdZKzbs22MyyOFfh6cVYMarT7nCyC43/ysvm98d6kfUHMAyJbZvjUn5IIwgGS+g1S2VMFVLT7qdq8DhMRkP67AERjxQTCtbyNWXis7oeN/R3kH4vte6uPm9eXXy3auXl5Fgz1K2yorK3fCc+9100zs9qykbYQ2bR8jY3UBZMV1+XfZ9ihATEmWkjOkB8gLIKSmTl55zWjPt7BZLypIgLiMuAOY7kb7ZBKXEZnVe3E+nrsYxjsNP8eRPiHSZEe042w3gfEq/H9K0L73HGyQaw0JeGoxAQQMdJZhvKd6EyCZNo6WrSA5njIdN7Bj/liQADEYcVM3Os0zrk4NimJnBj2FQYcqxQnxMtJC1Jm/0pPiTtgLjDv0dmwI7TnWdEeGqYEFC5CkNLqq1MKuZ9ET5cZxXCP97LCFKZ8AycZj0Mb7Lfu0qmAB0k39c6BtmNNdGOW3psHYVWplUm/3iQxDz4/VtiWY4NmM4aC/E/1crpxYqpDQsYdT+tBjFcaA+QAIXczGPWdZC8CYtfqWlGWo80y6M6B3o687OSk17BsWxBHNdAk7MmDRlPDAXBhAusY8ITdacZyJUaL2BQ0QgKHGI0D1QETPzth1AAJxWwj96nCkL+MFbnQ510Dap7jP3U3jZf8IALmF/3e30FWKsTsu3RmbmOJGujP39Io1Uepb+v/6laR8lVk48OxcAGLyRFajcLWK28IWmMKWIEm5ygMgEyNJEEcGmYPhDki1FBjRPkLbhtEtmmHgpEz3Sfd4NBPo6yxvmUyaZaYmR04MAkjMZVXaCNT62X+U+Bj3a9C3m5s7VZ11+tackBnZvjHFxDMKn5TKXAHi1r8E9Vcbau5DVMM2SIDQyEIHXjEGaZHtuQocjIT8Hr9ZyoAiV4soIntDIsYI0K9pZn6WvSLGAZB0p5u00TXM72utlcvx7B/ks2/MjGghsJLytduGdvY3V4C49tPpZpoPpZRfbllBAySjjjTIxrQnMjYFAJNvBwIKD344lp8byunwXAW7JrtODu8JI73HFoGEXG1oANfEARBXfT+G6qmZhuPlxOlRgHBPObN0uUGJyYuue/cJ7huJmuNEwGRWAEfOYVr4WtdgdKETIzBoDzPqGnWVw7MP5Ukm7oYu0/3M3Y73M/WkwJnoIkPKlhUTQJiKY0izm+ICCGlZSg6kg8QYu9dXWAmfPQYQMOFgMFtjQJCQzFnLPey+ovGGtVUuukk/dlNN3M5UWerBWw1l/qnSJHdTV9j7Rr4ASM4rWAnCtPLv85WGFxNAFmFVN+b7jjgBQspsB0jKf41nvGOmy/cIQBiA4y7BKKkmYMQ5lDSeYtEjIZH7IQzd8iMP4+6oAHBM6Ma7RrjLcWgM6tD1nFQWr/T09QTIJV1eJUeG9hZAWhJyfrZvbVaW7/qSu4XB10GTK0BInAc31pYFyQfcVtEjAGF2rMfBDDz07VkeioCy2IMZJ/sY3RNsADDlxADIQvs6jL1Dve5VXV19pMfJJU/j83zaIDyUjtnH1vWlYedsRQBIjcHMg3K20aBWot/PZtPL7RSbngQIYzNB9sJ6gS71fXIn4z/5AIjhEJptLKxMeDwo7wChvWEB4Hke1GCoXn0AosssELUTWB7icABzakwAmCtmxk9vuHZhiM0OaNdMq13jPNTCvnb7IeHG5uTWdeREo/0vrshBimDC9uQOOuN+z4fEQfIKkBWdK3E23T3t5XWKSosd2d5dTL7NbtDyYtC4AJJZbBzpi/bfYwU538obQLjamofF4e83wXSb+zDsSIth632Y4qTMFs6UvExAeHknOLBttXIxd+75OQus01bmiU9UlflYuL4srqN/uOKj3XMMpl6JMisTQU/IuEyk3KdgVf4TnQ/4+06UBWaWgavaHNibAPGQ8qvxzH9lI+hQwa4M6h/njW5r7m/Jundd5ud9zvFRL2MDSNf8QA32cnfHDhCelBh1nzmPAkL95qh72HMh9y25oaetGLbK/aYzIdfnZ1LzyTQGE+RQvqTxurROdvdkoF4w0jMZ1dbmtvWMv7QDVE8uTclhAfZXrAAxgF6e3b2azy23w8O20Vr1n4z6ioMcgXuEpTYNCwHUrWb9uNrxQYVsh0k4F+U6RtDdaPKb9KT4lAUoT4P57s2s1I6cYbu613Fl0guUlDKWdL307ynvE6PTkOInMUMg095OO2l+QN9Y5qLOQ/i8tjUhF7TWS+ibwXioQ6Z/jgyO3X3euUOxLFuCDo9Y35X6POtNT4NDAPKGUf+NfE0eDPQfducEePPwOEo5UVKKgyAxDrBW6qkB9sp+5tZbbmLKZ9t48rvxrDbTcWD14WhrS/AjOrNKcdFG5vs6yGh8C62PIfySpY6dlc+GoR1JS4q8j+8OtFzUpxA8FshP02lVipMRL7QY8TseFI1yJkDAU0/KeaKIffoJjyMNuzdW/V3p/UK5nS++QbnT3Q3YL+y3FRUV26GuHdlvd981MtM+3Npt+2OiL9RRyoNRfHc3Dm3gSYcDQ1Q37kq83g5AWq8qmByWbMi98t04UGKh15FFSkpx2CKbRwEJ1RmUwLOU+CYq+8T1gDKfkiJECh3M+EzYSSvow7Y6k0p5JaZxcCX2AMZnPNAhyrlTPPnE4/dfUU3jp8e12WH3pDrHPCvUfcTNMqbdsRCfd4S9pUpJKR92yb7uu8zLwJiD/JITPcBxgsX8XzJnKqtKuen0v6OaZhnWQ3XUlUpBAs0yz/pFOdlHpRtsJSLO0dFTKgVj35QMz4TUNd9atXrkyJGb6AgqFS3R2LbUq5oQaVNuRfH31lFUKlqC2rS1ZVfUhkiQMVbgsZ+OolKxq1htUdPOUWeuUfd/qmIplQJA7o6Sps5zfq16M3X0lIqeGJOwXrRDT9YtfDUBT4Xn+9X5DkF7Ky1dyTp6SqUiRSZ1I22FILpNR02pZIhRb3OHXwg4pjNvS0dNqeQIjD8i4JytJvdttJp5q1TSIOnLXYru4W8TeeII01GipMorKSkpKSkpKSkpKSkpKSkpKRU5/R93KDXNaF/OnwAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3K3FK\",\"items\":\"Navbar_items__3vuzC\",\"item\":\"Navbar_item__1HwlQ\",\"activeLink\":\"Navbar_activeLink__2yH5U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2U4cp\",\"UsersBox\":\"users_UsersBox__1V81Y\",\"selector\":\"users_selector__1i3hI\",\"restItems\":\"users_restItems__1OAPV\",\"selectedItem\":\"users_selectedItem__2FF4l\",\"btnFollow\":\"users_btnFollow__9BZP3\",\"searchBlock\":\"users_searchBlock__26BIs\",\"searchInput\":\"users_searchInput__1-g6k\",\"searchButton\":\"users_searchButton__cXGZF\"};","import React from \"react\";\r\nimport styles from \"./customTextArea.module.css\";\r\nimport {Field, WrappedFieldProps, WrappedFieldMetaProps} from \"redux-form\";\r\nimport { FieldValidatorType } from \"./validators\";\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nexport const FormControl: React.FC<FormControlPropsType> = ({meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return <div className={styles.customTextArea + \" \" + (hasError ? styles.error : '')}>\r\n        {children}\r\n        <div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const TextArea: React.FC<WrappedFieldProps> = (props) => {\r\n    //const {input, meta, child, ...restProps} = props;\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}> <textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n   // const {input, meta, child, ...restProps} = props;\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}> <input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport function createCustomField<FormKeysType extends string> (placeholder: string | undefined,\r\n                                name: FormKeysType,\r\n                                component: React.FC<WrappedFieldProps>,\r\n                                validators: Array<FieldValidatorType>,\r\n                                className: string | null,\r\n                                props = {}) {\r\n    return <div>\r\n        <Field placeholder={placeholder} name={name} component={component}\r\n            validate={validators} className={className} {...props} />\r\n    </div>\r\n}","import { APIResponseType, ResultCodesEnum, instance } from \"./API\";\r\n\r\ntype GetAuthMeDataType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n};\r\ntype LoginMeDataType = {\r\n    userId: number\r\n};\r\ntype GetCaptchaURLType = {\r\n    url: string;\r\n};\r\nexport enum CaptchaIsRequiredEnum {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\nexport const AuthAPI = {\r\n    // Функция получает с сервака данные о залогиненом пользователе\r\n    getAuthMe() {\r\n        return instance.get<APIResponseType<GetAuthMeDataType>>(`/auth/me`).then(response => response.data);\r\n    },\r\n    // Функция осуществляет логин на серваке и возвращает результат операции\r\n    loginMe(email: string, password: string, rememberMe: boolean = false, captcha: string | null = null) {\r\n        return instance.post<APIResponseType<LoginMeDataType, ResultCodesEnum | CaptchaIsRequiredEnum>>(`/auth/login`, { \r\n            email, password, rememberMe, captcha }).then(response => response.data);\r\n    },\r\n    // Функция отлогинивает юзера с сервака и возвращает результат операции\r\n    exitMe() {\r\n        return instance.delete<APIResponseType>(`/auth/login`).then(response => response.data);\r\n    },\r\n    // Функция получает URL капчи для проверки безопасности\r\n    getCaptchaURL() {\r\n        return instance.get<GetCaptchaURLType>(`/security/get-captcha-url`).then(response => response.data);\r\n    }\r\n};\r\n","import {ResultCodesEnum} from \"../API/API\";\r\nimport { AuthAPI, CaptchaIsRequiredEnum } from \"../API/AuthAPI\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport { InferActionsTypes, BaseThunkType } from \"../types/types\";\r\nimport { usersActions, UsersActionsTypes } from \"./usersReducer\";\r\n\r\nlet initialState = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuthorised: false,\r\n    captchaURL: null as string | null\r\n};\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst authReducer = (state = initialState, action: AuthActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'RSN/auth/SET-USER-DATA': {\r\n            return  {\r\n                ...state,\r\n                ...action.data,\r\n                isAuthorised: true\r\n            };\r\n        }\r\n        case 'RSN/auth/CLEAR-USER-DATA': {\r\n            return  {\r\n                userId: null,\r\n                email: null,\r\n                login: null,\r\n                isAuthorised: false,\r\n                captchaURL: null\r\n            };\r\n        }\r\n        case 'RSN/auth/SET-CAPTCHA-URL': {\r\n            return {...state, captchaURL: action.url}\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\ntype AuthActionsTypes = InferActionsTypes<typeof authActions> | UsersActionsTypes;\r\n\r\n// Action creators. Создает экшены для вызова функций authReducer\r\nexport const authActions = {\r\n    setAuthUserData: (userId: number, email: string, login: string) => ({\r\n        type: 'RSN/auth/SET-USER-DATA', data: { userId, email, login }} as const),\r\n    clearAuthUserData: () => ({ type: 'RSN/auth/CLEAR-USER-DATA' } as const),\r\n    setCaptchaURL: (url: string) => ({ type: 'RSN/auth/SET-CAPTCHA-URL', url} as const)\r\n}\r\n\r\ntype ThunkType = BaseThunkType<AuthActionsTypes>;\r\n\r\n// Санка получения данных залогиненного пользователя\r\nexport const authMeThunckCreator = (): ThunkType => async (dispatch) => {\r\n    let response = await AuthAPI.getAuthMe();\r\n    if (response.resultCode === ResultCodesEnum.Succes) {\r\n        let {id, login, email} = response.data;\r\n        dispatch(authActions.setAuthUserData(id, email, login));\r\n    }\r\n};\r\n\r\n// Санка для логина на серваке\r\nexport const loginThunckCreator = (email: string, password: string, \r\n    rememberMe: boolean, captcha: string): ThunkType => async (dispatch) => {\r\n    let response = await AuthAPI.loginMe(email, password, rememberMe, captcha);\r\n    if (response.resultCode === ResultCodesEnum.Succes) {\r\n        dispatch(authMeThunckCreator());\r\n    } else {\r\n        if (response.resultCode === CaptchaIsRequiredEnum.CaptchaIsRequired) {\r\n            dispatch(getCaptchaThunckCreator());\r\n        }\r\n        let errorMessage = response.messages.length > 0 ? response.messages[0] : \"Uncaught message!\";\r\n        // ошибка общая для формы\r\n        dispatch(stopSubmit(\"loginForm\", {_error: errorMessage}));\r\n    }\r\n};\r\n\r\n// Санка для отлогинивания/отключения с сервака\r\nexport const exitThunckCreator = (): ThunkType => async (dispatch) => {\r\n    let response = await AuthAPI.exitMe();\r\n    if (response.resultCode === ResultCodesEnum.Succes) {\r\n        // Сброс всех параметров\r\n        dispatch(authActions.clearAuthUserData());\r\n        dispatch(usersActions.setCurrentPage(1));\r\n        dispatch(usersActions.setUsersFilter(false, true, \"\"));\r\n    }\r\n};\r\n\r\n// Санка для получения капчи\r\nexport const getCaptchaThunckCreator = (): ThunkType => async (dispatch) => {\r\n    let response = await AuthAPI.getCaptchaURL();\r\n    dispatch(authActions.setCaptchaURL(response.url));\r\n};\r\n\r\nexport default authReducer;","import {authMeThunckCreator} from \"./authReducer\";\r\nimport { InferActionsTypes, BaseThunkType } from \"../types/types\";\r\n\r\nlet initialState = {\r\n    isInitialized : false\r\n};\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst appReducer = (state = initialState, action: AppActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'RSN/app/SET-APP-INITIALISED': {\r\n            return  {\r\n                ...state,\r\n                isInitialized: true\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\ntype AppActionsTypes = InferActionsTypes<typeof appActions>;\r\n\r\n// Акшин для инициализации приложения на старте\r\nexport const appActions = {\r\n    setAppInitialised : () => ({type: 'RSN/app/SET-APP-INITIALISED'} as const)\r\n}\r\n\r\ntype ThunkType = BaseThunkType<AppActionsTypes, void>;\r\n\r\n// Санка инициализации приложения\r\nexport const setAppThunckCreator = (): ThunkType => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(authMeThunckCreator());\r\n        //let promise1 = dispatch(somethingElse());\r\n        //let promise2 = dispatch(anythingElse());\r\n        Promise.all([promise  /* ,promise1...*/]).then(() => {\r\n            dispatch(appActions.setAppInitialised());\r\n        });\r\n    };\r\n};\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\n//Закидываем в стор редьюсеры\r\nlet rootReducer = combineReducers( {\r\n    dialogsData: dialogsReducer,\r\n    profileData: profileReducer,\r\n    usersData: usersReducer,\r\n    authData: authReducer,\r\n    appData: appReducer,\r\n    form: formReducer\r\n} );\r\n\r\ntype RootReducerType = typeof rootReducer;\r\nexport type AppStateType = ReturnType<RootReducerType>;\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//let store = createStore(reducersBunch, applyMiddleware(thunkMiddleware));\r\n\r\n// @ts-ignore\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport s from './Friendsbar.module.css'\r\n\r\nconst Friendsbar = () => {\r\n    return (\r\n        <div className={s.friends}>\r\n            <div>Friends</div>\r\n            <div className={s.item}>\r\n                <img\r\n                    src='https://cdn4.iconfinder.com/data/icons/avatars-xmas-giveaway/128/batman_hero_avatar_comics-512.png' alt=\"ava1\"></img>\r\n                <div>Pedro</div>\r\n            </div>\r\n            <div className={s.item}>\r\n                <img\r\n                    src='https://cdn3.iconfinder.com/data/icons/users-avatars-2/128/superman-512.png' alt=\"ava2\"></img>\r\n                <div>Vasya</div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Friendsbar;","import React from 'react';\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Friendsbar from \"./Friendsbar/Friendsbar\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.items}>\r\n                <div className={s.item}>\r\n                    <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/musik' activeClassName={s.activeLink}>Music</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n                </div>\r\n            </div>\r\n            <Friendsbar/>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\n//import s from './Musik.module.css'\r\n\r\nconst Musik = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Musik;","import React from \"react\";\r\n//import s from './Settings.module.css'\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport styles from './paginator.module.css';\r\n\r\ntype PropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nconst Paginator: React.FC<PropsType> = (props) => {\r\n\r\n    // Расчет количества страниц в селекторе\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    let itemsCount = 9;\r\n    let middle = Math.round(itemsCount / 2);\r\n\r\n    if (itemsCount > pagesCount) {\r\n        itemsCount = pagesCount;\r\n        middle = pagesCount;\r\n    }\r\n\r\n    if (props.currentPage <= middle) {\r\n        for (let i = 1; i <= itemsCount; i++) {\r\n            pages.push(i);\r\n        }\r\n    }\r\n    else if (props.currentPage >= pagesCount - middle) {\r\n        for (let i = pagesCount - itemsCount; i <= pagesCount; i++) {\r\n            pages.push(i);\r\n        }\r\n    }\r\n    else {\r\n        for (let i = 1 + (props.currentPage - middle); i <= itemsCount + (props.currentPage - middle); i++) {\r\n            pages.push(i);\r\n        }\r\n    }\r\n\r\n    return <div className={styles.selector}>\r\n            {pages.map(p => {\r\n                return <span className={props.currentPage === p ? styles.selectedPage : styles.restPages}\r\n                             onClick={() => {\r\n                                 props.onPageChanged(p)\r\n                             }}>{p}</span>;\r\n            })}\r\n        </div>\r\n};\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport styles from './users.module.css';\r\nimport userDefaultPhoto from '../../asets/images/userDefaultPhoto.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport { UserType } from \"../../types/types\";\r\nimport { reduxForm, InjectedFormProps } from \"redux-form\";\r\nimport { createCustomField, Input } from \"../../utils/validators/customTextArea\";\r\n\r\ntype PropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number \r\n    users: Array<UserType>\r\n    followingQueie: Array<number>\r\n    isAuthorized: boolean\r\n    filterProps: {friend: boolean; allUsers: boolean; currentPage: number; term: string}\r\n    unfollowUser: (id: number) => (void)\r\n    followUser: (id: number) => (void)\r\n    onFilterChanged: (friend: boolean, allUsers: boolean, term: string) => (void)\r\n    onPageChanged: (pageNumber: number) => void\r\n    \r\n}\r\n\r\nconst Users: React.FC<PropsType> = ({totalUsersCount, pageSize, onPageChanged, ...props}) => {\r\n   \r\n    // обработка события Search\r\n    const onSubmit = (formData: SearchFormValuesType) => {\r\n        let { term } = formData;\r\n        props.onFilterChanged(props.filterProps.friend, props.filterProps.allUsers, term);\r\n    };\r\n\r\n    return <div>\r\n        <div className={styles.selector}>\r\n            {props.isAuthorized && <div >\r\n                <span className={props.filterProps.allUsers ? styles.selectedItem : styles.restItems}\r\n                    onClick={() => { props.onFilterChanged(false, true, props.filterProps.term) }}>All</span>\r\n                <span className={props.filterProps.friend ? styles.selectedItem : styles.restItems}\r\n                    onClick={() => { props.onFilterChanged(true, false, props.filterProps.term) }}>Friends</span>\r\n                <span className={(!props.filterProps.friend && !props.filterProps.allUsers) ? styles.selectedItem : styles.restItems}\r\n                    onClick={() => { props.onFilterChanged(false, false, props.filterProps.term) }}>Rest</span>\r\n            </div>}\r\n            {// @ts-ignore\r\n            <SearchReduxForm initialValues={props.filterProps} onSubmit={onSubmit}/>}\r\n        </div>      \r\n        <div className={styles.UsersBox}>\r\n            {props.users.map(u => <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + u.id}>\r\n                        <img src={u.photos.small != null ? u.photos.small : userDefaultPhoto}\r\n                             className={styles.userPhoto} alt=\"avas\"/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {u.followed\r\n                        ? <button disabled={props.followingQueie.some((id) => id === u.id)} onClick={() => {\r\n                            // Отписка от юзера\r\n                            props.unfollowUser(u.id);\r\n\r\n                        }} className={styles.btnFollow}>Unfollow</button>\r\n                        : <button disabled={props.followingQueie.some((id) => id === u.id)} onClick={() => {\r\n                            // Подписка от юзера\r\n                            props.followUser(u.id);\r\n\r\n                        }} className={styles.btnFollow}>Follow</button>}\r\n                </div>\r\n            </span>\r\n                <span>\r\n                    <div>{u.name}</div>\r\n{/*                     <div>{u.status}</div>\r\n                    <div>{u.uniqueUrlName}</div> */}\r\n                </span>\r\n            </div>)}\r\n        </div>\r\n        <Paginator totalUsersCount={totalUsersCount} pageSize={pageSize}\r\n                   currentPage={props.filterProps.currentPage} onPageChanged={onPageChanged}/>\r\n    </div>\r\n};\r\n\r\n\r\ntype SearchFormValuesType = {\r\n    term: string\r\n}\r\ntype FormPropsType = {\r\n}\r\ntype FormKeysType = Extract<keyof SearchFormValuesType, string>;\r\n\r\nconst SearchForm: React.FC<InjectedFormProps<SearchFormValuesType,\r\nFormPropsType> & FormPropsType> = (props) => {\r\n    return <form onSubmit={props.handleSubmit} className={styles.searchBlock}>\r\n            {createCustomField<FormKeysType>(\"Type to search\", \"term\", Input, [], styles.searchInput)}\r\n            <button className={styles.searchButton}>Search</button>\r\n    </form>\r\n};\r\n                                            // a unique name for the form\r\nconst SearchReduxForm = reduxForm<SearchFormValuesType, FormPropsType>({form: 'searchForm'})(SearchForm);\r\n\r\n\r\nexport default Users;","import { AppStateType } from './../reduxStore';\r\nimport {createSelector} from \"reselect\";\r\n\r\nexport const pageSizeSelector = (state: AppStateType) => {\r\n    return state.usersData.pageSize;\r\n}\r\n\r\nexport const totalUsersCountSelector = (state: AppStateType) => {\r\n    return state.usersData.totalUsersCount;\r\n}\r\n\r\nexport const currentPageSelector = (state: AppStateType) => {\r\n    return state.usersData.filterProps.currentPage;\r\n}\r\n\r\nexport const isFetchingSelector = (state: AppStateType) => {\r\n    return state.usersData.isFetching;\r\n}\r\n\r\nexport const followingQueie = (state: AppStateType) => {\r\n    return state.usersData.followingQueie;\r\n}\r\n\r\n\r\n// Пример работы с библиотекой reselect\r\n// Вспомогательный, примитивный селектор\r\nconst getUsersInnerSel = (state: AppStateType) => {\r\n    return state.usersData.users;\r\n}\r\n\r\n/*export const usersSelector = (state) => {\r\n                                        //имитация фейковой логики, нагружающей приложение\r\n    return getUsersInnerSel(state).filter(u => true);\r\n}*/\r\n\r\n// создаем селектор с использованием createSelector\r\nexport const usersSuperSelector = createSelector(getUsersInnerSel, (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n    usersActions, getUsersThunckCreator, \r\n    unfollowUserThunckCreator, followUserThunckCreator\r\n} from \"../../redux/usersReducer\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    followingQueie, isFetchingSelector,\r\n    pageSizeSelector, totalUsersCountSelector, usersSuperSelector\r\n} from \"../../redux/selectors/usersSelector\";\r\nimport { UserType } from \"../../types/types\";\r\nimport { AppStateType } from \"../../redux/reduxStore\";\r\n\r\ntype MapStateToPropsType ={\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    isFetching: boolean\r\n    followingQueie: Array<number>\r\n    filterProps: {\r\n        friend: boolean\r\n        allUsers: boolean\r\n        currentPage: number\r\n        term: string\r\n    }\r\n    isAuthorized: boolean\r\n}\r\n\r\ntype MapDispatchToPropsType ={\r\n    getUsers: (currentPage: number, pageSize: number, friend?: boolean | undefined, term?: string) => (void)\r\n    setCurrentPage: (checkedPage: number) => (void)\r\n    setUsersFilter: (friend: boolean, allUsers: boolean, term: string) => (void)\r\n    unfollowUserThunckCreator: (id: number) => (void)\r\n    followUserThunckCreator: (id: number) => (void)\r\n}\r\n\r\ntype OwnPropsType = {\r\n}\r\n\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType & OwnPropsType;\r\n\r\nclass UsersAPIContainer extends React.Component<PropsType> {\r\n\r\n    // Первая отрисовка страницы с юзерами\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.filterProps.currentPage, this.props.pageSize, this.returnFriend(), this.props.filterProps.term);\r\n    }\r\n\r\n    // Функция переключения страницы с юзерами\r\n    onPageChanged = (checkedPage: number) => {\r\n        this.props.setCurrentPage(checkedPage);\r\n    };\r\n\r\n    // Обработка фильтрации юзеров\r\n    onFilterChanged = (friend: boolean, allUsers: boolean, term: string) => {\r\n        this.props.setUsersFilter(friend, allUsers, term);\r\n        this.props.setCurrentPage(1);\r\n    }\r\n\r\n    // генерация свойства Friend для фильтрации в апишке \r\n    returnFriend = () => {\r\n        if (this.props.filterProps.friend) return true;\r\n        if (this.props.filterProps.allUsers) return undefined;\r\n        return false;\r\n    }\r\n\r\n    componentDidUpdate(prevProps: PropsType){\r\n        if (this.props.filterProps !== prevProps.filterProps) {\r\n            this.props.getUsers(this.props.filterProps.currentPage, this.props.pageSize, this.returnFriend(), this.props.filterProps.term);\r\n        } \r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            <Users onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   followingQueie={this.props.followingQueie}\r\n                   unfollowUser={this.props.unfollowUserThunckCreator}\r\n                   followUser={this.props.followUserThunckCreator}\r\n                   pageSize={this.props.pageSize}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   onFilterChanged={this.onFilterChanged}\r\n                   filterProps={this.props.filterProps}\r\n                   isAuthorized={this.props.isAuthorized}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n// Пример исплользования селекторов (уроки 81-83)\r\nconst mapToStateProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        // users: usersSelector(state),\r\n        // использование сложного селектора\r\n        users: usersSuperSelector(state),\r\n        pageSize: pageSizeSelector(state),\r\n        totalUsersCount: totalUsersCountSelector(state),\r\n        isFetching: isFetchingSelector(state),\r\n        followingQueie: followingQueie(state),\r\n        filterProps: state.usersData.filterProps,\r\n        isAuthorized: state.authData.isAuthorised\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect<MapStateToPropsType, MapDispatchToPropsType, OwnPropsType, AppStateType>(\r\n        mapToStateProps, \r\n        {setCurrentPage: usersActions.setCurrentPage, setUsersFilter: usersActions.setUsersFilter,\r\n        getUsers: getUsersThunckCreator, unfollowUserThunckCreator, followUserThunckCreator}),\r\n        // withAuthRedirect\r\n)(UsersAPIContainer);\r\n\r\n","import React from 'react';\r\nimport './Header.scss';\r\nimport s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Preloader from \"../common/preloader/preloader\";\r\nimport logoSPSN from '../../asets/images/logoSPSN.png'\r\n\r\ntype PropsType = {\r\n    isFetching: boolean\r\n    isAuthorised: boolean\r\n    login: string | null\r\n    disconnectMe: () => void\r\n}\r\n\r\nconst Header: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img className={s.logoImg} src={logoSPSN} alt=\"logo\"></img>\r\n            <div className={s.preloader}>\r\n                {(props.isFetching) ? <Preloader/> : null}\r\n            </div>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuthorised ?\r\n                    <div>\r\n                        <div>\r\n                            {props.login}\r\n                        </div>\r\n                        <button className={s.btnExit} onClick={() => {\r\n                            props.disconnectMe()\r\n                        }}>\r\n                            Exit\r\n                        </button>\r\n                    </div>\r\n                    : <div className='navLogin'>\r\n                        <NavLink to={'/login'}>Login</NavLink>\r\n                    </div>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {exitThunckCreator} from \"../../redux/authReducer\";\r\nimport { AppStateType } from '../../redux/reduxStore';\r\n\r\ntype MapStateToPropsType = {\r\n    isFetching: boolean\r\n    isAuthorised: boolean\r\n    login: string | null\r\n}\r\ntype MapDispatchToPropsType ={\r\n    disconnectMe: () => void\r\n}\r\ntype OwnPropsType = {\r\n}\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType & OwnPropsType;\r\n\r\nclass HeaderContainer extends React.Component<PropsType> {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        isAuthorised: state.authData.isAuthorised,\r\n        login: state.authData.login,\r\n        isFetching: state.usersData.isFetching,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {disconnectMe: exitThunckCreator})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm, InjectedFormProps} from \"redux-form\";\r\nimport {createCustomField, Input} from \"../../utils/validators/customTextArea\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\nimport s from './Login.module.css'\r\n\r\ntype LoginPropsType = {\r\n    loginMe: (email: string, password: string, rememberMe: boolean, captcha: string) => (void)\r\n    captchaURL: string | null\r\n}\r\n\r\nconst Login: React.FC<LoginPropsType> = (props) => {\r\n\r\n    const onSubmit = (formData: LoginFormValuesType) => {\r\n        let {login, password, rememberMe, captcha} = formData;\r\n        props.loginMe(login, password, rememberMe, captcha);\r\n    };\r\n    \r\n    return <div className={s.loginCommon}>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaURL={props.captchaURL}/>\r\n    </div>;\r\n};\r\n\r\nlet maxLength = maxLengthCreator(30);\r\nlet maxCaptchaLength = maxLengthCreator(10);\r\n\r\ntype LoginFormValuesType = {\r\n    login: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n};\r\ntype LoginFormOwnPropsType = {\r\n    captchaURL: string | null\r\n};\r\ntype FormKeysType = Extract<keyof LoginFormValuesType, string>;\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormValuesType,\r\n    LoginFormOwnPropsType> & LoginFormOwnPropsType> = ({ handleSubmit, captchaURL, error }) => {\r\n        return <form onSubmit={handleSubmit}>\r\n            {createCustomField<FormKeysType>(\"Login\", \"login\", Input, [requiredField, maxLength], s.inputLogin)}\r\n            {createCustomField<FormKeysType>(\"Password\", \"password\", Input, [requiredField, maxLength], s.inputLogin, { type: \"password\" })}\r\n            <div className={s.remMe}>  \r\n                <Field component={\"input\"} name={\"rememberMe\"} type={\"checkbox\"} />Remember me\r\n            </div>\r\n            {captchaURL && <div>\r\n                {createCustomField<FormKeysType>(\"Captcha\", \"captcha\", Input, [requiredField, maxCaptchaLength], s.inputLogin)}\r\n                <div>\r\n                    <img src={captchaURL} alt={\"captcha\"} />\r\n                </div>\r\n            </div>}\r\n            <div>\r\n                <button className={s.btnLogin}>Login</button>\r\n            </div>\r\n            {error && <div className={s.formError}>{error}</div>}\r\n        </form>\r\n    };\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormValuesType, LoginFormOwnPropsType>({\r\n    // a unique name for the form\r\n    form: 'loginForm'\r\n})(LoginForm);\r\n\r\nexport default Login;","import React from \"react\";\r\nimport Login from \"./Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginThunckCreator} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport { AppStateType } from \"../../redux/reduxStore\";\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n    captchaURL: string | null\r\n}\r\ntype MapDispatchToPropsType ={\r\n    loginMe: (email: string, password: string, \r\n        rememberMe: boolean, captcha: string) => (void)\r\n}\r\ntype OwnPropsType = {\r\n}\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType & OwnPropsType;\r\n\r\n \r\nclass LoginContainer extends React.Component<PropsType> {\r\n    render() {\r\n        if (this.props.isAuth) return <Redirect to={\"/profile\"}/>;\r\n        return <Login {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        isAuth: state.authData.isAuthorised,\r\n        captchaURL: state.authData.captchaURL\r\n    }\r\n};\r\n\r\nexport default connect<MapStateToPropsType, MapDispatchToPropsType, OwnPropsType, AppStateType>(mapStateToProps,\r\n    {loginMe: loginThunckCreator})(LoginContainer);","import React from \"react\";\r\nimport './MainPreloader.scss';\r\n\r\nconst MainPreloader = () => {\r\n    return <div className='cssload-loader'>\r\n        <div className='cssload-inner cssload-one'></div>\r\n        <div className='cssload-inner cssload-two'></div>\r\n        <div className='cssload-inner cssload-three'></div>\r\n    </div>\r\n};\r\n\r\nexport default MainPreloader;","import React, { Suspense } from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport News from \"./components/news/News\";\nimport Musik from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport { Route, withRouter, Redirect } from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginContainer from \"./components/Login/LoginContainer\";\nimport { connect } from \"react-redux\";\nimport { setAppThunckCreator } from \"./redux/appReducer\";\nimport { compose } from \"redux\";\nimport MainPreloader from \"./components/common/mainPreloader/mainPreloader\";\nimport Preloader from './components/common/preloader/preloader';\nimport { AppStateType } from './redux/reduxStore';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\n\ntype MapStateToPropsType = ReturnType<typeof mapStateToProps>;\ntype MapDispatchToPropsType = {\n    initializeApp: () => void\n};\ntype OwnPropsType ={};\n\nclass App extends React.Component<MapStateToPropsType & MapDispatchToPropsType> {\n\n    cathAllUnhandledErrors = () => {\n        console.log(\"Some error ocured\");\n    }\n\n    componentDidMount() {\n        // логинимся в сеть\n        this.props.initializeApp();\n        window.addEventListener(\"unhandledrejection\", this.cathAllUnhandledErrors);\n    }\n\n    componentWillMount() {\n        window.removeEventListener(\"unhandledrejection\", this.cathAllUnhandledErrors);\n    }\n\n    render() {\n        if (!this.props.isInit) {\n            return (\n                <div className='preloaderWrapper'>\n                    <div className='preloaderTriangle'>\n                        <MainPreloader />\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer />\n                <Navbar />\n                <div className='app-wrapper-content'>\n                    <Suspense fallback={<div><Preloader /></div>}>\n                        <Route path='/dialogs' render={() => <DialogsContainer />} />\n                        <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\n                        <Route exact path='/' render={() => <Redirect to={\"/profile\"} />} />\n                    </Suspense>\n                    <Route path='/news' render={() => <News />} />\n                    <Route path='/musik' render={() => <Musik />} />\n                    <Route path='/settings' render={() => <Settings />} />\n                    <Route path='/users' render={() => <UsersContainer />} />\n                    <Route path='/login' render={() => <LoginContainer />} />\n                    {/* <Route path='*' render={() => <div>404 NOT FOUND</div>}/> */}\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state: AppStateType) => ({\n    isInit: state.appData.isInitialized\n});\n\nexport default compose<React.ComponentType>(\n    withRouter,\n    connect<MapStateToPropsType, MapDispatchToPropsType, OwnPropsType, AppStateType>(mapStateToProps, \n        { initializeApp: setAppThunckCreator })\n)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import './index.css';\nimport store from \"./redux/reduxStore\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\nimport {HashRouter} from \"react-router-dom\";\n\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </HashRouter>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginCommon\":\"Login_loginCommon__2vpgU\",\"formError\":\"Login_formError__3eW9S\",\"inputLogin\":\"Login_inputLogin__6By6x\",\"inputPass\":\"Login_inputPass__dKgF1\",\"remMe\":\"Login_remMe__1esjx\",\"btnLogin\":\"Login_btnLogin__2O83E\"};","export type FieldValidatorType = (value: string) => string | undefined;\r\n\r\nexport const requiredField: FieldValidatorType  = (value) => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator  = (maxLength: number):FieldValidatorType => (value)  => {\r\n    if (value.length <= maxLength) return undefined;\r\n\r\n    return `Max length is ${maxLength} symbols`;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2SM_z\",\"logoImg\":\"Header_logoImg__1kZFR\",\"preloader\":\"Header_preloader__BmA3b\",\"loginBlock\":\"Header_loginBlock__2wptP\",\"btnExit\":\"Header_btnExit__3PrEG\"};","import React from \"react\";\r\nimport ballTriangle from \"../../../asets/images/ball-triangle.svg\";\r\n\r\nlet Preloader = () => {\r\n    return <img src={ballTriangle} alt=\"preloader\"/>\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friendsbar_friends__gdc4o\",\"item\":\"Friendsbar_item__Ty9MI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selector\":\"paginator_selector__3QTl5\",\"restPages\":\"paginator_restPages__86jCY\",\"selectedPage\":\"paginator_selectedPage__3k0dF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"customTextArea\":\"customTextArea_customTextArea__2Gv09\",\"error\":\"customTextArea_error__1US7i\"};","import { ProfileType, PhotosType } from \"../types/types\";\r\nimport { instance, APIResponseType } from \"./API\";\r\n\r\ntype PhotoDataType = {\r\n    photos: PhotosType\r\n}\r\n\r\nexport const ProfileAPI = {\r\n    // Функция получает с сервака данные о профиле юзера по ID\r\n    getProfile(id: number) {\r\n        return instance.get<ProfileType>(`profile/${id}`).then(response => response.data);\r\n    },\r\n    // Функция получает с сервака статус юзера по ID\r\n    getStatus(id: number) {\r\n        return instance.get<string>(`/profile/status/${id}`).then(response => response.data);\r\n    },\r\n    // Функция отправляют на сервер статус (status) залогиненного юзера\r\n    updateStatus(status: string) {\r\n        return instance.put<APIResponseType>(`/profile/status`, { status: status }).then(response => response.data);\r\n    },\r\n    // Функция отправляют на сервер аватарку залогиненного юзера\r\n    saveProfilePhoto(photoFile: File) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put<APIResponseType<PhotoDataType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(response => response.data);\r\n    },\r\n    // Функция отправляют на сервер объект с данными профиля на залогиненного юзера\r\n    updateProfile(userProfile: ProfileType) {\r\n        return instance.put<APIResponseType>(`/profile`, userProfile).then(response => response.data);\r\n    }\r\n};\r\n","import { ProfileType, PhotosType, PostType, InferActionsTypes, BaseThunkType } from './../types/types';\r\nimport { ProfileAPI } from \"../API/ProfileAPI\";\r\nimport {usersActions, UsersActionsTypes} from \"./usersReducer\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hola! Como esta?', likeCount: 23},\r\n        {id: 2, message: 'Que pasa aqui?', likeCount: 12},\r\n        {id: 3, message: 'Vamos a la plalla', likeCount: 50},\r\n        {id: 4, message: 'Quiero salir a calle!', likeCount: 2}\r\n    ] as Array<PostType>,\r\n    profile: null as ProfileType | null,\r\n    status: '',\r\n    textAreaValue: ''\r\n};\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst profileReducer = (state = initialState, action: ProfileActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'RSN/profile/ADD-POST': {\r\n            return  {\r\n                ...state,\r\n                posts: [...state.posts, {id: 5, message: action.postMessage, likeCount: 0}],\r\n                textAreaValue:''\r\n            };\r\n        }\r\n        case 'RSN/profile/SET-USER-PROFILE': {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n        case 'RSN/profile/SET-STATUS': {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        case 'RSN/profile/SET-USER-PHOTO': {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos} as ProfileType\r\n            };\r\n        }\r\n        case \"RSN/profile/CLEAR-USER-PROFILE\": {\r\n            return {\r\n                ...state,\r\n                profile: null\r\n            }\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\ntype ProfileActionsTypes = InferActionsTypes<typeof profileActions> | UsersActionsTypes;\r\n\r\n// Action creators. Создает экшены для вызова функций Profile\r\nexport const profileActions = {\r\n    addPost: (text: string) => ({type: 'RSN/profile/ADD-POST', postMessage: text} as const),\r\n    setUserProfile: (profile: ProfileType) => ({type: 'RSN/profile/SET-USER-PROFILE', profile} as const),\r\n    setStatus: (status: string) => ({type: 'RSN/profile/SET-STATUS', status} as const),\r\n    setUserPhoto: (photos: PhotosType) => ({type: 'RSN/profile/SET-USER-PHOTO', photos} as const),\r\n    clearUserProfile: () => ({type: 'RSN/profile/CLEAR-USER-PROFILE'} as const)\r\n}\r\n\r\ntype ThunkType = BaseThunkType<ProfileActionsTypes>;\r\n\r\n// Санка для получения инфы о выбранном юзере\r\nexport const showUserProfileThunckCreator = (UserID: number): ThunkType => async (dispatch) => {\r\n    dispatch(usersActions.toggleIsFetching(true));\r\n    const response = await ProfileAPI.getProfile(UserID);\r\n    dispatch(profileActions.setUserProfile(response));\r\n    dispatch(usersActions.toggleIsFetching(false));\r\n\r\n};\r\n\r\n// Санка для обновления данных профиля пользователя на серваке\r\nexport const updateProfileThunckCreator = (userProfile: ProfileType, UserID: number): ThunkType => async (dispatch) => {\r\n    dispatch(usersActions.toggleIsFetching(true));\r\n    const response = await ProfileAPI.updateProfile(userProfile)\r\n    if (response.resultCode === 0) {\r\n        dispatch(showUserProfileThunckCreator(UserID));\r\n    }\r\n    else if (response.resultCode === 1) {\r\n        let errorMessage = response.messages.length > 0 ? response.messages[0] : \"Uncaught message!\";\r\n        // ошибка общая для формы\r\n        // @ts-ignore\r\n       dispatch(stopSubmit(\"editProfileForm\", { _error: errorMessage }));\r\n        //dispatch(stopSubmit(\"editProfileForm\", { \"contacts\": {\"facebook\": errorMessage }})); - распарсить ошибку\r\n        return Promise.reject(errorMessage);\r\n    }\r\n    dispatch(usersActions.toggleIsFetching(false));\r\n};\r\n\r\n// Санка для получения статуса пользователя с сервака\r\nexport const getStatusThunckCreator = (UserID: number): ThunkType => async (dispatch) => {\r\n    dispatch(usersActions.toggleIsFetching(true));\r\n    const response = await ProfileAPI.getStatus(UserID)\r\n    dispatch(profileActions.setStatus(response));\r\n    dispatch(usersActions.toggleIsFetching(false));\r\n};\r\n\r\n// Санка для обновления статуса пользователя на серваке\r\nexport const updateStatusThunckCreator = (status: string): ThunkType => async (dispatch) => {\r\n    dispatch(usersActions.toggleIsFetching(true));\r\n    try {\r\n        const response = await ProfileAPI.updateStatus(status)\r\n        if (response.resultCode === 0) {\r\n            dispatch(profileActions.setStatus(status));   \r\n        }\r\n        if (response.resultCode === 1){\r\n            console.log(\"mas length 300\");           \r\n        }\r\n    }\r\n    catch(error) {\r\n        console.log(\"some err\");\r\n    }\r\n    dispatch(usersActions.toggleIsFetching(false));\r\n};\r\n\r\n// Санка для обновления фотки пользователя на серваке\r\nexport const saveProfilePhotoThunckCreator = (file: File): ThunkType => async (dispatch) => {\r\n    dispatch(usersActions.toggleIsFetching(true));\r\n    const response = await ProfileAPI.saveProfilePhoto(file)\r\n    if (response.resultCode === 0) {\r\n        dispatch(profileActions.setUserPhoto(response.data.photos))\r\n        dispatch(usersActions.toggleIsFetching(false));\r\n    }\r\n};\r\n\r\n\r\nexport default profileReducer;","import { DialogType, MessagesType, InferActionsTypes } from './../types/types';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Juan'},\r\n        {id: 2, name: 'Pedro'},\r\n        {id: 3, name: 'Ramona'},\r\n        {id: 4, name: 'Fernandes'},\r\n        {id: 5, name: 'Alexandro'}\r\n    ] as Array<DialogType>,\r\n    messages: [\r\n        {id: 1, message: 'Hola!'},\r\n        {id: 2, message: 'Como te llama?'},\r\n        {id: 3, message: 'Cerdo)'},\r\n        {id: 4, message: 'Quiero salir a calle!'}\r\n    ] as Array<MessagesType>\r\n};\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst dialogsReducer = (state = initialState, action: DialogsActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'RSN/dialogs/ADD-DIALOG-MESSAGE':\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 5, message: action.postMessage}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\ntype DialogsActionsTypes = InferActionsTypes<typeof dialogsActions>;;\r\n\r\n// Action creators. Создает экшены для вызова функций Dialogs\r\nexport const dialogsActions = {\r\n    addDialogMessage: (text: string) => ({ type: 'RSN/dialogs/ADD-DIALOG-MESSAGE', postMessage: text } as const)\r\n}\r\n\r\nexport default dialogsReducer;"],"sourceRoot":""}